<form (ngSubmit)="handleRegister()" [formGroup]="registerForm" class="w-75 mx-auto">
    <h3>Register Now :</h3>
    <div>
        <label for="name" class="py-2">name :</label>
        <input class="form-control" type="text" id="name" formControlName="name">
        <div *ngIf="registerForm.get('name')?.errors && (registerForm.get('name')?.touched || registerForm.get('name')?.value.length>0)" class="alert alert-danger">
            <span *ngIf="registerForm.get('name')?.getError('required')">name is required</span>
            <span *ngIf="registerForm.get('name')?.getError('minlength')">name minlength 3</span>
            <span *ngIf="registerForm.get('name')?.getError('maxlength')">name maxlength 20</span>
        </div>
    </div>
    <div>
        <label for="email" class="py-2">email :</label>
        <input class="form-control" type="email" id="email" formControlName="email">
        <div *ngIf="registerForm.get('email')?.errors && (registerForm.get('email')?.touched || registerForm.get('email')?.value.length>0)" class="alert alert-danger">
            <span *ngIf="registerForm.get('email')?.getError('required')">email is required</span>
            <span *ngIf="registerForm.get('email')?.getError('email')">invalid format</span>
        </div>
    </div>
    <div>
        <label for="password" class="py-2">password :</label>
        <input class="form-control" type="password" id="password" formControlName="password">
        <div *ngIf="registerForm.get('password')?.errors && (registerForm.get('password')?.touched || registerForm.get('password')?.value.length>0)" class="alert alert-danger">
            <span *ngIf="registerForm.get('password')?.getError('required')">password is required</span>
            <span *ngIf="registerForm.get('password')?.getError('pattern')">password must be at least 6 chars</span>
        </div>
    </div>
    <div>
        <label for="rePassword" class="py-2">rePassword :</label>
        <input class="form-control" type="password" id="rePassword" formControlName="rePassword">
        <div *ngIf="registerForm.get('rePassword')?.errors && (registerForm.get('rePassword')?.touched || registerForm.get('rePassword')?.value.length>0)" class="alert alert-danger">
            <span *ngIf="registerForm.get('rePassword')?.getError('required')">rePassword is required</span>
            <span *ngIf="registerForm.get('rePassword')?.getError('mismatch')">invalid confirm repassword</span>
        </div>
    </div>
    <div class="pb-3">
        <label for="phone" class="py-2">phone :</label>
        <input class="form-control" type="tel" id="phone" formControlName="phone">
        <div *ngIf="registerForm.get('phone')?.errors && (registerForm.get('phone')?.touched || registerForm.get('phone')?.value.length>0)" class="alert alert-danger">
            <span *ngIf="registerForm.get('phone')?.getError('required')">phone number is required</span>
            <span *ngIf="registerForm.get('phone')?.getError('pattern')">accept only egypt phone numbers</span>
        </div>
    </div>
    <button [disabled]="registerForm.invalid" class="main-btn d-block ms-auto p-2" type="submit">Register <span *ngIf="isLoading"><i class="fa-solid fa-spinner fa-spin-pulse"></i></span></button>
    <p *ngIf="errMessage" class="alert alert-danger">{{errMessage}}</p>
</form>